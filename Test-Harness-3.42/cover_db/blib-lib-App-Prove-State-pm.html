<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::Cover Version 1.36
Devel::Cover is copyright 2001-2019, Paul Johnson (paul@pjcj.net)
Devel::Cover is free. It is licensed under the same terms as Perl itself.
The latest version of Devel::Cover should be available from my homepage:
http://www.pjcj.net
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Language" content="en-us"></meta>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <title>File Coverage: blib/lib/App/Prove/State.pm</title>
</head>
<body>
<h1>File Coverage</h1>
<table>
<tr><td class="h" align="right">File:</td><td align="left">blib/lib/App/Prove/State.pm</td></tr>
<tr><td class="h" align="right">Coverage:</td><td align="left" class="c0">70.5%</td></tr>
</table>
<div><br/></div>
<table>
<tr><th>line</th><th>stmt</th><th>bran</th><th>cond</th><th>sub</th><th>pod</th><th>time</th><th>code</th></tr>
<tr><td class="h">1</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">package App::Prove::State;</td></tr>
<tr><td class="h">2</td><td colspan="7"></td></tr><tr><td class="h">3</td><td><div class="c3">8</div><div class="c3">8</div><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L3">8</a></div></td><td></td><td><div>83565</div><div>4</div><div>106</div></td><td class="s">use strict;</td></tr>
<tr><td class="h">4</td><td><div class="c3">8</div><div class="c3">8</div><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L4">8</a></div></td><td></td><td><div>12</div><div>8</div><div>130</div></td><td class="s">use warnings;</td></tr>
<tr><td class="h">5</td><td colspan="7"></td></tr><tr><td class="h">6</td><td><div class="c3">8</div><div class="c3">8</div><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L6">8</a></div></td><td></td><td><div>13</div><div>7</div><div>182</div></td><td class="s">use File::Find;</td></tr>
<tr><td class="h">7</td><td><div class="c3">8</div><div class="c3">8</div><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L7">8</a></div></td><td></td><td><div>15</div><div>10</div><div>66</div></td><td class="s">use File::Spec;</td></tr>
<tr><td class="h">8</td><td><div class="c3">8</div><div class="c3">8</div><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L8">8</a></div></td><td></td><td><div>11</div><div>7</div><div>205</div></td><td class="s">use Carp;</td></tr>
<tr><td class="h">9</td><td colspan="7"></td></tr><tr><td class="h">10</td><td><div class="c3">8</div><div class="c3">8</div><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L10">8</a></div></td><td></td><td><div>1083</div><div>11</div><div>125</div></td><td class="s">use App::Prove::State::Result;</td></tr>
<tr><td class="h">11</td><td><div class="c3">8</div><div class="c3">8</div><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L11">8</a></div></td><td></td><td><div>722</div><div>8</div><div>106</div></td><td class="s">use TAP::Parser::YAMLish::Reader ();</td></tr>
<tr><td class="h">12</td><td><div class="c3">8</div><div class="c3">8</div><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L12">8</a></div></td><td></td><td><div>1115</div><div>24</div><div>126</div></td><td class="s">use TAP::Parser::YAMLish::Writer ();</td></tr>
<tr><td class="h">13</td><td><div class="c3">8</div><div class="c3">8</div><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L13">8</a></div></td><td></td><td><div>21</div><div>6</div><div>820</div></td><td class="s">use base &#39;TAP::Base&#39;;</td></tr>
<tr><td class="h">14</td><td colspan="7"></td></tr><tr><td class="h">15</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">BEGIN {</td></tr>
<tr><td class="h">16</td><td><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L16">8</a></div></td><td></td><td><div>52</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;__PACKAGE__-&gt;mk_methods(&#39;result_class&#39;);</td></tr>
<tr><td class="h">17</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">18</td><td colspan="7"></td></tr><tr><td class="h">19</td><td><div class="c3">8</div><div class="c3">8</div><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L19">8</a></div></td><td></td><td><div>20</div><div>8</div><div>218</div></td><td class="s">use constant IS_WIN32 =&gt; ( $^O =~ /^(MS)?Win32$/ );</td></tr>
<tr><td class="h">20</td><td><div class="c3">8</div><div class="c3">8</div><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L20">8</a></div></td><td></td><td><div>16</div><div>5</div><div>8526</div></td><td class="s">use constant NEED_GLOB =&gt; IS_WIN32;</td></tr>
<tr><td class="h">21</td><td colspan="7"></td></tr><tr><td class="h">22 - 30</td><td colspan="6"></td><td class="s"><pre>=head1 NAME

App::Prove::State - State storage for the C&lt;prove&gt; command.

=head1 VERSION

Version 3.42

=cut</pre></td></tr>
<tr><td class="h">31</td><td colspan="7"></td></tr><tr><td class="h">32</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">our $VERSION = &#39;3.42&#39;;</td></tr>
<tr><td class="h">33</td><td colspan="7"></td></tr><tr><td class="h">34 - 45</td><td colspan="6"></td><td class="s"><pre>=head1 DESCRIPTION

The C&lt;prove&gt; command supports a C&lt;--state&gt; option that instructs it to
store persistent state across runs. This module implements that state
and the operations that may be performed on it.

=head1 SYNOPSIS

&nbsp;&nbsp;&nbsp;&nbsp;# Re-run failed tests
&nbsp;&nbsp;&nbsp;&nbsp;$ prove --state=failed,save -rbv

=cut</pre></td></tr>
<tr><td class="h">46</td><td colspan="7"></td></tr><tr><td class="h">47 - 71</td><td colspan="6"></td><td class="s"><pre>=head1 METHODS

=head2 Class Methods

=head3 C&lt;new&gt;

Accepts a hashref with the following key/value pairs:

=over 4

=item * C&lt;store&gt;

The filename of the data store holding the data that App::Prove::State reads.

=item * C&lt;extensions&gt; (optional)

The test name extensions.&nbsp;&nbsp;Defaults to C&lt;.t&gt;.

=item * C&lt;result_class&gt; (optional)

The name of the C&lt;result_class&gt;.&nbsp;&nbsp;Defaults to C&lt;App::Prove::State::Result&gt;.

=back

=cut</pre></td></tr>
<tr><td class="h">72</td><td colspan="7"></td></tr><tr><td class="h">73</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s"># override TAP::Base::new:</td></tr>
<tr><td class="h">74</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub new {</td></tr>
<tr><td class="h">75</td><td><div class="c3">74</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L75">74</a></div></td><td><div class="c3">1</div></td><td><div>49786</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $class = shift;</td></tr>
<tr><td class="h">76</td><td><div class="c3">74</div><div class="c3">74</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L76">100</a></div></td><td></td><td></td><td></td><td><div>91</div><div>208</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my %args = %{ shift || {} };</td></tr>
<tr><td class="h">77</td><td colspan="7"></td></tr><tr><td class="h">78</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = bless {</td></tr>
<tr><td class="h">79</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; [],</td></tr>
<tr><td class="h">80</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seq&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; 1,</td></tr>
<tr><td class="h">81</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;store&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; delete $args{store},</td></tr>
<tr><td class="h">82</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extensions =&gt; ( delete $args{extensions} || [&#39;.t&#39;] ),</td></tr>
<tr><td class="h">83</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result_class =&gt;</td></tr>
<tr><td class="h">84</td><td><div class="c3">74</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Prove-State-pm--condition.html#L84">50</a></div><div class="c0"><a href="blib-lib-App-Prove-State-pm--condition.html#L84">50</a></div></td><td></td><td></td><td><div>497</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( delete $args{result_class} || &#39;App::Prove::State::Result&#39; ),</td></tr>
<tr><td class="h">85</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}, $class;</td></tr>
<tr><td class="h">86</td><td colspan="7"></td></tr><tr><td class="h">87</td><td><div class="c3">74</div></td><td></td><td></td><td></td><td></td><td><div>168</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{_} = $self-&gt;result_class-&gt;new(</td></tr>
<tr><td class="h">88</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;tests&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; {},</td></tr>
<tr><td class="h">89</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generation =&gt; 1,</td></tr>
<tr><td class="h">90</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">91</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">92</td><td><div class="c3">74</div></td><td></td><td></td><td></td><td></td><td><div>127</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $store = $self-&gt;{store};</td></tr>
<tr><td class="h">93</td><td><div class="c3">74</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L93">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Prove-State-pm--condition.html#L93">67</a></div></td><td></td><td></td><td><div>483</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;load($store)</td></tr>
<tr><td class="h">94</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if defined $store &amp;&amp; -f $store;</td></tr>
<tr><td class="h">95</td><td colspan="7"></td></tr><tr><td class="h">96</td><td><div class="c3">74</div></td><td></td><td></td><td></td><td></td><td><div>131</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self;</td></tr>
<tr><td class="h">97</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">98</td><td colspan="7"></td></tr><tr><td class="h">99 - 105</td><td colspan="6"></td><td class="s"><pre>=head2 C&lt;result_class&gt;

Getter/setter for the name of the class used for tracking test results.&nbsp;&nbsp;This
class should either subclass from C&lt;App::Prove::State::Result&gt; or provide an
identical interface.

=cut</pre></td></tr>
<tr><td class="h">106</td><td colspan="7"></td></tr><tr><td class="h">107 - 112</td><td colspan="6"></td><td class="s"><pre>=head2 C&lt;extensions&gt;

Get or set the list of extensions that files must have in order to be
considered tests. Defaults to [&#39;.t&#39;].

=cut</pre></td></tr>
<tr><td class="h">113</td><td colspan="7"></td></tr><tr><td class="h">114</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub extensions {</td></tr>
<tr><td class="h">115</td><td><div class="c3">2</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L115">2</a></div></td><td><div class="c3">1</div></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">116</td><td><div class="c3">2</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Prove-State-pm--branch.html#L116">50</a></div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{extensions} = shift if @_;</td></tr>
<tr><td class="h">117</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;{extensions};</td></tr>
<tr><td class="h">118</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">119</td><td colspan="7"></td></tr><tr><td class="h">120 - 124</td><td colspan="6"></td><td class="s"><pre>=head2 C&lt;results&gt;

Get the results of the last test run.&nbsp;&nbsp;Returns a C&lt;result_class()&gt; instance.

=cut</pre></td></tr>
<tr><td class="h">125</td><td colspan="7"></td></tr><tr><td class="h">126</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub results {</td></tr>
<tr><td class="h">127</td><td><div class="c3">183</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L127">183</a></div></td><td><div class="c3">1</div></td><td><div>118</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">128</td><td><div class="c3">183</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L128">50</a></div></td><td></td><td></td><td></td><td><div>412</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{_} || $self-&gt;result_class-&gt;new;</td></tr>
<tr><td class="h">129</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">130</td><td colspan="7"></td></tr><tr><td class="h">131 - 135</td><td colspan="6"></td><td class="s"><pre>=head2 C&lt;commit&gt;

Save the test results. Should be called after all tests have run.

=cut</pre></td></tr>
<tr><td class="h">136</td><td colspan="7"></td></tr><tr><td class="h">137</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub commit {</td></tr>
<tr><td class="h">138</td><td><div class="c3">2</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L138">2</a></div></td><td><div class="c3">1</div></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">139</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L139">50</a></div></td><td></td><td></td><td></td><td><div>23</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( $self-&gt;{should_save} ) {</td></tr>
<tr><td class="h">140</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;save;</td></tr>
<tr><td class="h">141</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">142</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">143</td><td colspan="7"></td></tr><tr><td class="h">144 - 204</td><td colspan="6"></td><td class="s"><pre>=head2 Instance Methods

=head3 C&lt;apply_switch&gt;

 $self-&gt;apply_switch(&#39;failed,save&#39;);

Apply a list of switch options to the state, updating the internal
object state as a result. Nothing is returned.

Diagnostics:
&nbsp;&nbsp;&nbsp;&nbsp;- &quot;Illegal state option: %s&quot;

=over

=item C&lt;last&gt;

Run in the same order as last time

=item C&lt;failed&gt;

Run only the failed tests from last time

=item C&lt;passed&gt;

Run only the passed tests from last time

=item C&lt;all&gt;

Run all tests in normal order

=item C&lt;hot&gt;

Run the tests that most recently failed first

=item C&lt;todo&gt;

Run the tests ordered by number of todos.

=item C&lt;slow&gt;

Run the tests in slowest to fastest order.

=item C&lt;fast&gt;

Run test tests in fastest to slowest order.

=item C&lt;new&gt;

Run the tests in newest to oldest order.

=item C&lt;old&gt;

Run the tests in oldest to newest order.

=item C&lt;save&gt;

Save the state on exit.

=back

=cut</pre></td></tr>
<tr><td class="h">205</td><td colspan="7"></td></tr><tr><td class="h">206</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub apply_switch {</td></tr>
<tr><td class="h">207</td><td><div class="c3">74</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L207">74</a></div></td><td><div class="c3">1</div></td><td><div>129</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">208</td><td><div class="c3">74</div></td><td></td><td></td><td></td><td></td><td><div>87</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @opts = @_;</td></tr>
<tr><td class="h">209</td><td colspan="7"></td></tr><tr><td class="h">210</td><td><div class="c3">74</div></td><td></td><td></td><td></td><td></td><td><div>99</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $last_gen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= $self-&gt;results-&gt;generation - 1;</td></tr>
<tr><td class="h">211</td><td><div class="c3">74</div></td><td></td><td></td><td></td><td></td><td><div>493</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $last_run_time = $self-&gt;results-&gt;last_run_time;</td></tr>
<tr><td class="h">212</td><td><div class="c3">74</div></td><td></td><td></td><td></td><td></td><td><div>153</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $now&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= $self-&gt;get_time;</td></tr>
<tr><td class="h">213</td><td colspan="7"></td></tr><tr><td class="h">214</td><td><div class="c3">74</div><div class="c3">15</div></td><td></td><td></td><td></td><td></td><td><div>82</div><div>25</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @switches = map { split /,/ } @opts;</td></tr>
<tr><td class="h">215</td><td colspan="7"></td></tr><tr><td class="h">216</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my %handler = (</td></tr>
<tr><td class="h">217</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last =&gt; sub {</td></tr>
<tr><td class="h">218</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_select(</td></tr>
<tr><td class="h">219</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;limit =&gt; shift,</td></tr>
<tr><td class="h">220</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where =&gt; sub { $_-&gt;generation &gt;= $last_gen },</td></tr>
<tr><td class="h">221</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order =&gt; sub { $_-&gt;sequence }</td></tr>
<tr><td class="h">222</td><td><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L222">1</a></div></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">223</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</td></tr>
<tr><td class="h">224</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;failed =&gt; sub {</td></tr>
<tr><td class="h">225</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_select(</td></tr>
<tr><td class="h">226</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;limit =&gt; shift,</td></tr>
<tr><td class="h">227</td><td><div class="c3">18</div></td><td></td><td></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where =&gt; sub { $_-&gt;result != 0 },</td></tr>
<tr><td class="h">228</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order =&gt; sub { -$_-&gt;result }</td></tr>
<tr><td class="h">229</td><td><div class="c3">3</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L229">3</a></div></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">230</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</td></tr>
<tr><td class="h">231</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;passed =&gt; sub {</td></tr>
<tr><td class="h">232</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_select(</td></tr>
<tr><td class="h">233</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;limit =&gt; shift,</td></tr>
<tr><td class="h">234</td><td><div class="c3">18</div></td><td></td><td></td><td></td><td></td><td><div>19</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where =&gt; sub { $_-&gt;result == 0 }</td></tr>
<tr><td class="h">235</td><td><div class="c3">3</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L235">3</a></div></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">236</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</td></tr>
<tr><td class="h">237</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all =&gt; sub {</td></tr>
<tr><td class="h">238</td><td><div class="c3">2</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L238">2</a></div></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_select( limit =&gt; shift );</td></tr>
<tr><td class="h">239</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</td></tr>
<tr><td class="h">240</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;todo =&gt; sub {</td></tr>
<tr><td class="h">241</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_select(</td></tr>
<tr><td class="h">242</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;limit =&gt; shift,</td></tr>
<tr><td class="h">243</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where =&gt; sub { $_-&gt;num_todo != 0 },</td></tr>
<tr><td class="h">244</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order =&gt; sub { -$_-&gt;num_todo; }</td></tr>
<tr><td class="h">245</td><td><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L245">1</a></div></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">246</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</td></tr>
<tr><td class="h">247</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hot =&gt; sub {</td></tr>
<tr><td class="h">248</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_select(</td></tr>
<tr><td class="h">249</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;limit =&gt; shift,</td></tr>
<tr><td class="h">250</td><td><div class="c3">12</div></td><td></td><td></td><td></td><td></td><td><div>21</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where =&gt; sub { defined $_-&gt;last_fail_time },</td></tr>
<tr><td class="h">251</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order =&gt; sub { $now - $_-&gt;last_fail_time }</td></tr>
<tr><td class="h">252</td><td><div class="c3">2</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L252">2</a></div></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">253</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</td></tr>
<tr><td class="h">254</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slow =&gt; sub {</td></tr>
<tr><td class="h">255</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_select(</td></tr>
<tr><td class="h">256</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;limit =&gt; shift,</td></tr>
<tr><td class="h">257</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order =&gt; sub { -$_-&gt;elapsed }</td></tr>
<tr><td class="h">258</td><td><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L258">1</a></div></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">259</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</td></tr>
<tr><td class="h">260</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fast =&gt; sub {</td></tr>
<tr><td class="h">261</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_select(</td></tr>
<tr><td class="h">262</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;limit =&gt; shift,</td></tr>
<tr><td class="h">263</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order =&gt; sub { $_-&gt;elapsed }</td></tr>
<tr><td class="h">264</td><td><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L264">1</a></div></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">265</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</td></tr>
<tr><td class="h">266</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new =&gt; sub {</td></tr>
<tr><td class="h">267</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_select(</td></tr>
<tr><td class="h">268</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;limit =&gt; shift,</td></tr>
<tr><td class="h">269</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order =&gt; sub { -$_-&gt;mtime }</td></tr>
<tr><td class="h">270</td><td><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L270">1</a></div></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">271</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</td></tr>
<tr><td class="h">272</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;old =&gt; sub {</td></tr>
<tr><td class="h">273</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_select(</td></tr>
<tr><td class="h">274</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;limit =&gt; shift,</td></tr>
<tr><td class="h">275</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order =&gt; sub { $_-&gt;mtime }</td></tr>
<tr><td class="h">276</td><td><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L276">1</a></div></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">277</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</td></tr>
<tr><td class="h">278</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fresh =&gt; sub {</td></tr>
<tr><td class="h">279</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_select(</td></tr>
<tr><td class="h">280</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;limit =&gt; shift,</td></tr>
<tr><td class="h">281</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where =&gt; sub { $_-&gt;mtime &gt;= $last_run_time }</td></tr>
<tr><td class="h">282</td><td><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L282">1</a></div></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">283</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</td></tr>
<tr><td class="h">284</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;save =&gt; sub {</td></tr>
<tr><td class="h">285</td><td><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L285">1</a></div></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{should_save}++;</td></tr>
<tr><td class="h">286</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</td></tr>
<tr><td class="h">287</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;adrian =&gt; sub {</td></tr>
<tr><td class="h">288</td><td><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L288">1</a></div></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unshift @switches, qw( hot all save );</td></tr>
<tr><td class="h">289</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</td></tr>
<tr><td class="h">290</td><td><div class="c3">74</div></td><td></td><td></td><td></td><td></td><td><div>1290</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">291</td><td colspan="7"></td></tr><tr><td class="h">292</td><td><div class="c3">74</div></td><td></td><td></td><td></td><td></td><td><div>150</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;while ( defined( my $ele = shift @switches ) ) {</td></tr>
<tr><td class="h">293</td><td><div class="c3">19</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L293">50</a></div></td><td></td><td></td><td></td><td><div>27</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ( $opt, $arg )</td></tr>
<tr><td class="h">294</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= ( $ele =~ /^([^:]+):(.*)/ )</td></tr>
<tr><td class="h">295</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;? ( $1, $2 )</td></tr>
<tr><td class="h">296</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: ( $ele, undef );</td></tr>
<tr><td class="h">297</td><td><div class="c3">19</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Prove-State-pm--condition.html#L297">33</a></div></td><td></td><td></td><td><div>20</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $code = $handler{$opt}</td></tr>
<tr><td class="h">298</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| croak &quot;Illegal state option: $opt&quot;;</td></tr>
<tr><td class="h">299</td><td><div class="c3">19</div></td><td></td><td></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code-&gt;($arg);</td></tr>
<tr><td class="h">300</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">301</td><td><div class="c3">74</div></td><td></td><td></td><td></td><td></td><td><div>941</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">302</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">303</td><td colspan="7"></td></tr><tr><td class="h">304</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _select {</td></tr>
<tr><td class="h">305</td><td><div class="c3">17</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L305">17</a></div></td><td></td><td><div>51</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ( $self, %spec ) = @_;</td></tr>
<tr><td class="h">306</td><td><div class="c3">17</div><div class="c3">17</div></td><td></td><td></td><td></td><td></td><td><div>12</div><div>61</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push @{ $self-&gt;{select} }, \%spec;</td></tr>
<tr><td class="h">307</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">308</td><td colspan="7"></td></tr><tr><td class="h">309 - 313</td><td colspan="6"></td><td class="s"><pre>=head3 C&lt;get_tests&gt;

Given a list of args get the names of tests that should run

=cut</pre></td></tr>
<tr><td class="h">314</td><td colspan="7"></td></tr><tr><td class="h">315</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub get_tests {</td></tr>
<tr><td class="h">316</td><td><div class="c3">74</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L316">74</a></div></td><td><div class="c3">1</div></td><td><div>94</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self&nbsp;&nbsp;&nbsp;&nbsp;= shift;</td></tr>
<tr><td class="h">317</td><td><div class="c3">74</div></td><td></td><td></td><td></td><td></td><td><div>65</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $recurse = shift;</td></tr>
<tr><td class="h">318</td><td><div class="c3">74</div></td><td></td><td></td><td></td><td></td><td><div>133</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @argv&nbsp;&nbsp;&nbsp;&nbsp;= @_;</td></tr>
<tr><td class="h">319</td><td><div class="c3">74</div></td><td></td><td></td><td></td><td></td><td><div>55</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my %seen;</td></tr>
<tr><td class="h">320</td><td colspan="7"></td></tr><tr><td class="h">321</td><td><div class="c3">74</div></td><td></td><td></td><td></td><td></td><td><div>104</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @selected = $self-&gt;_query;</td></tr>
<tr><td class="h">322</td><td colspan="7"></td></tr><tr><td class="h">323</td><td><div class="c3">74</div><div class="c3">16</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L323">100</a></div></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--condition.html#L323">100</a></div></td><td></td><td></td><td><div>96</div><div>27</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;unless ( @argv || @{ $self-&gt;{select} } ) {</td></tr>
<tr><td class="h">324</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L324">50</a></div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@argv = $recurse ? &#39;.&#39; : &#39;t&#39;;</td></tr>
<tr><td class="h">325</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L325">50</a></div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;croak qq{No tests named and &#39;@argv&#39; directory not found}</td></tr>
<tr><td class="h">326</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless -d $argv[0];</td></tr>
<tr><td class="h">327</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">328</td><td colspan="7"></td></tr><tr><td class="h">329</td><td><div class="c3">74</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L329">100</a></div></td><td></td><td></td><td></td><td><div>179</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push @selected, $self-&gt;_get_raw_tests( $recurse, @argv ) if @argv;</td></tr>
<tr><td class="h">330</td><td><div class="c3">74</div><div class="c3">172</div></td><td></td><td></td><td></td><td></td><td><div>72</div><div>308</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return grep { !$seen{$_}++ } @selected;</td></tr>
<tr><td class="h">331</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">332</td><td colspan="7"></td></tr><tr><td class="h">333</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _query {</td></tr>
<tr><td class="h">334</td><td><div class="c3">74</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L334">74</a></div></td><td></td><td><div>56</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">335</td><td><div class="c3">74</div><div class="c3">74</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L335">100</a></div></td><td></td><td></td><td></td><td><div>58</div><div>145</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( my @sel = @{ $self-&gt;{select} } ) {</td></tr>
<tr><td class="h">336</td><td><div class="c3">14</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L336">50</a></div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;warn &quot;No saved state, selection will be empty\n&quot;</td></tr>
<tr><td class="h">337</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless $self-&gt;results-&gt;num_tests;</td></tr>
<tr><td class="h">338</td><td><div class="c3">14</div><div class="c3">17</div></td><td></td><td></td><td></td><td></td><td><div>9</div><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return map { $self-&gt;_query_clause($_) } @sel;</td></tr>
<tr><td class="h">339</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">340</td><td><div class="c3">60</div></td><td></td><td></td><td></td><td></td><td><div>75</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">341</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">342</td><td colspan="7"></td></tr><tr><td class="h">343</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _query_clause {</td></tr>
<tr><td class="h">344</td><td><div class="c3">17</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L344">17</a></div></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ( $self, $clause ) = @_;</td></tr>
<tr><td class="h">345</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @got;</td></tr>
<tr><td class="h">346</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $results = $self-&gt;results;</td></tr>
<tr><td class="h">347</td><td><div class="c3">17</div><div class="c3">36</div></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--condition.html#L347">100</a></div></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L347">36</a></div></td><td></td><td><div>33</div><div>35</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $where = $clause-&gt;{where} || sub {1};</td></tr>
<tr><td class="h">348</td><td colspan="7"></td></tr><tr><td class="h">349</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Select</td></tr>
<tr><td class="h">350</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td></td><td><div>19</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;for my $name ( $results-&gt;test_names ) {</td></tr>
<tr><td class="h">351</td><td><div class="c3">102</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L351">50</a></div></td><td></td><td></td><td></td><td><div>248</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next unless -f $name;</td></tr>
<tr><td class="h">352</td><td><div class="c3">102</div></td><td></td><td></td><td></td><td></td><td><div>91</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local $_ = $results-&gt;test($name);</td></tr>
<tr><td class="h">353</td><td><div class="c3">102</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L353">100</a></div></td><td></td><td></td><td></td><td><div>113</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @got, $name if $where-&gt;();</td></tr>
<tr><td class="h">354</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">355</td><td colspan="7"></td></tr><tr><td class="h">356</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Sort</td></tr>
<tr><td class="h">357</td><td><div class="c3">17</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L357">100</a></div></td><td></td><td></td><td></td><td><div>22</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( my $order = $clause-&gt;{order} ) {</td></tr>
<tr><td class="h">358</td><td><div class="c3">43</div></td><td></td><td></td><td></td><td></td><td><div>37</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@got = map { $_-&gt;[0] }</td></tr>
<tr><td class="h">359</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort {</td></tr>
<tr><td class="h">360</td><td><div class="c3">59</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Prove-State-pm--branch.html#L360">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Prove-State-pm--condition.html#L360">50</a></div><div class="c0"><a href="blib-lib-App-Prove-State-pm--condition.html#L360">50</a></div></td><td></td><td></td><td><div>118</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( defined $b-&gt;[1] &lt;=&gt; defined $a-&gt;[1] )</td></tr>
<tr><td class="h">361</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| ( ( $a-&gt;[1] || 0 ) &lt;=&gt; ( $b-&gt;[1] || 0 ) )</td></tr>
<tr><td class="h">362</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} map {</td></tr>
<tr><td class="h">363</td><td><div class="c3">11</div></td><td></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;&nbsp;&nbsp;$_,</td></tr>
<tr><td class="h">364</td><td><div class="c3">43</div><div class="c3">43</div><div class="c3">43</div></td><td></td><td></td><td></td><td></td><td><div>21</div><div>33</div><div>29</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do { local $_ = $results-&gt;test($_); $order-&gt;() }</td></tr>
<tr><td class="h">365</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]</td></tr>
<tr><td class="h">366</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} @got;</td></tr>
<tr><td class="h">367</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">368</td><td colspan="7"></td></tr><tr><td class="h">369</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L369">50</a></div></td><td></td><td></td><td></td><td><div>25</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( my $limit = $clause-&gt;{limit} ) {</td></tr>
<tr><td class="h">370</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Prove-State-pm--branch.html#L370">0</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@got = splice @got, 0, $limit if @got &gt; $limit;</td></tr>
<tr><td class="h">371</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">372</td><td colspan="7"></td></tr><tr><td class="h">373</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td></td><td><div>38</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return @got;</td></tr>
<tr><td class="h">374</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">375</td><td colspan="7"></td></tr><tr><td class="h">376</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _get_raw_tests {</td></tr>
<tr><td class="h">377</td><td><div class="c3">60</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L377">60</a></div></td><td></td><td><div>58</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self&nbsp;&nbsp;&nbsp;&nbsp;= shift;</td></tr>
<tr><td class="h">378</td><td><div class="c3">60</div></td><td></td><td></td><td></td><td></td><td><div>42</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $recurse = shift;</td></tr>
<tr><td class="h">379</td><td><div class="c3">60</div></td><td></td><td></td><td></td><td></td><td><div>61</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @argv&nbsp;&nbsp;&nbsp;&nbsp;= @_;</td></tr>
<tr><td class="h">380</td><td><div class="c3">60</div></td><td></td><td></td><td></td><td></td><td><div>69</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @tests;</td></tr>
<tr><td class="h">381</td><td colspan="7"></td></tr><tr><td class="h">382</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Do globbing on Win32.</td></tr>
<tr><td class="h">383</td><td><div class="c3">60</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L383">50</a></div></td><td></td><td></td><td></td><td><div>145</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (NEED_GLOB) {</td></tr>
<tr><td class="h">384</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval &quot;use File::Glob::Windows&quot;;&nbsp;&nbsp;&nbsp;&nbsp;# [49732]</td></tr>
<tr><td class="h">385</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@argv = map { glob &quot;$_&quot; } @argv;</td></tr>
<tr><td class="h">386</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">387</td><td><div class="c3">60</div></td><td></td><td></td><td></td><td></td><td><div>46</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $extensions = $self-&gt;{extensions};</td></tr>
<tr><td class="h">388</td><td colspan="7"></td></tr><tr><td class="h">389</td><td><div class="c3">60</div></td><td></td><td></td><td></td><td></td><td><div>85</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;for my $arg (@argv) {</td></tr>
<tr><td class="h">390</td><td><div class="c3">105</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L390">50</a></div></td><td></td><td></td><td></td><td><div>112</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( &#39;-&#39; eq $arg ) {</td></tr>
<tr><td class="h">391</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @argv =&gt; &lt;STDIN&gt;;</td></tr>
<tr><td class="h">392</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chomp(@argv);</td></tr>
<tr><td class="h">393</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next;</td></tr>
<tr><td class="h">394</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">395</td><td colspan="7"></td></tr><tr><td class="h">396</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @tests,</td></tr>
<tr><td class="h">397</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort -d $arg</td></tr>
<tr><td class="h">398</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;? $recurse</td></tr>
<tr><td class="h">399</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;? $self-&gt;_expand_dir_recursive( $arg, $extensions )</td></tr>
<tr><td class="h">400</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td></td><td><div>169</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: map { glob( File::Spec-&gt;catfile( $arg, &quot;*$_&quot; ) ) }</td></tr>
<tr><td class="h">401</td><td><div class="c3">105</div><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L401">50</a></div><div class="c3" title="T/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L401">100</a></div></td><td></td><td></td><td></td><td><div>389</div><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@{$extensions}</td></tr>
<tr><td class="h">402</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: $arg;</td></tr>
<tr><td class="h">403</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">404</td><td><div class="c3">60</div></td><td></td><td></td><td></td><td></td><td><div>86</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return @tests;</td></tr>
<tr><td class="h">405</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">406</td><td colspan="7"></td></tr><tr><td class="h">407</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _expand_dir_recursive {</td></tr>
<tr><td class="h">408</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L408">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ( $self, $dir, $extensions ) = @_;</td></tr>
<tr><td class="h">409</td><td colspan="7"></td></tr><tr><td class="h">410</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @tests;</td></tr>
<tr><td class="h">411</td><td><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td><div>0</div><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $ext_string = join( &#39;|&#39;, map {quotemeta} @{$extensions} );</td></tr>
<tr><td class="h">412</td><td colspan="7"></td></tr><tr><td class="h">413</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;find(</td></tr>
<tr><td class="h">414</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;follow&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; 1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#21938</td></tr>
<tr><td class="h">415</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;follow_skip =&gt; 2,</td></tr>
<tr><td class="h">416</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wanted&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; sub {</td></tr>
<tr><td class="h">417</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-f </td></tr>
<tr><td class="h">418</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Prove-State-pm--branch.html#L418">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Prove-State-pm--condition.html#L418">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L418">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; /(?:$ext_string)$/</td></tr>
<tr><td class="h">419</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; push @tests =&gt; $File::Find::name;</td></tr>
<tr><td class="h">420</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">421</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</td></tr>
<tr><td class="h">422</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dir</td></tr>
<tr><td class="h">423</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">424</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return @tests;</td></tr>
<tr><td class="h">425</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">426</td><td colspan="7"></td></tr><tr><td class="h">427 - 431</td><td colspan="6"></td><td class="s"><pre>=head3 C&lt;observe_test&gt;

Store the results of a test.

=cut</pre></td></tr>
<tr><td class="h">432</td><td colspan="7"></td></tr><tr><td class="h">433</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s"># Store:</td></tr>
<tr><td class="h">434</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last fail time</td></tr>
<tr><td class="h">435</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last pass time</td></tr>
<tr><td class="h">436</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last run time</td></tr>
<tr><td class="h">437</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;most recent result</td></tr>
<tr><td class="h">438</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;most recent todos</td></tr>
<tr><td class="h">439</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;total failures</td></tr>
<tr><td class="h">440</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;total passes</td></tr>
<tr><td class="h">441</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state generation</td></tr>
<tr><td class="h">442</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parser</td></tr>
<tr><td class="h">443</td><td colspan="7"></td></tr><tr><td class="h">444</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub observe_test {</td></tr>
<tr><td class="h">445</td><td colspan="7"></td></tr><tr><td class="h">446</td><td><div class="c3">2</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L446">2</a></div></td><td><div class="c3">1</div></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ( $self, $test_info, $parser ) = @_;</td></tr>
<tr><td class="h">447</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $name = $test_info-&gt;[0];</td></tr>
<tr><td class="h">448</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L448">50</a></div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $fail = scalar( $parser-&gt;failed ) + ( $parser-&gt;has_problems ? 1 : 0 );</td></tr>
<tr><td class="h">449</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $todo = scalar( $parser-&gt;todo );</td></tr>
<tr><td class="h">450</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $start_time = $parser-&gt;start_time;</td></tr>
<tr><td class="h">451</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $end_time&nbsp;&nbsp;&nbsp;= $parser-&gt;end_time,</td></tr>
<tr><td class="h">452</td><td colspan="7"></td></tr><tr><td class="h">453</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $test = $self-&gt;results-&gt;test($name);</td></tr>
<tr><td class="h">454</td><td colspan="7"></td></tr><tr><td class="h">455</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$test-&gt;sequence( $self-&gt;{seq}++ );</td></tr>
<tr><td class="h">456</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$test-&gt;generation( $self-&gt;results-&gt;generation );</td></tr>
<tr><td class="h">457</td><td colspan="7"></td></tr><tr><td class="h">458</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$test-&gt;run_time($end_time);</td></tr>
<tr><td class="h">459</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$test-&gt;result($fail);</td></tr>
<tr><td class="h">460</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$test-&gt;num_todo($todo);</td></tr>
<tr><td class="h">461</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$test-&gt;elapsed( $end_time - $start_time );</td></tr>
<tr><td class="h">462</td><td colspan="7"></td></tr><tr><td class="h">463</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$test-&gt;parser($parser);</td></tr>
<tr><td class="h">464</td><td colspan="7"></td></tr><tr><td class="h">465</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Prove-State-pm--branch.html#L465">50</a></div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($fail) {</td></tr>
<tr><td class="h">466</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$test-&gt;total_failures( $test-&gt;total_failures + 1 );</td></tr>
<tr><td class="h">467</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$test-&gt;last_fail_time($end_time);</td></tr>
<tr><td class="h">468</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">469</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">470</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$test-&gt;total_passes( $test-&gt;total_passes + 1 );</td></tr>
<tr><td class="h">471</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$test-&gt;last_pass_time($end_time);</td></tr>
<tr><td class="h">472</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">473</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">474</td><td colspan="7"></td></tr><tr><td class="h">475 - 479</td><td colspan="6"></td><td class="s"><pre>=head3 C&lt;save&gt;

Write the state to a file.

=cut</pre></td></tr>
<tr><td class="h">480</td><td colspan="7"></td></tr><tr><td class="h">481</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub save {</td></tr>
<tr><td class="h">482</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L482">0</a></div></td><td><div class="c3">1</div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self) = @_;</td></tr>
<tr><td class="h">483</td><td colspan="7"></td></tr><tr><td class="h">484</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Prove-State-pm--branch.html#L484">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $store = $self-&gt;{store} or return;</td></tr>
<tr><td class="h">485</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;results-&gt;last_run_time( $self-&gt;get_time );</td></tr>
<tr><td class="h">486</td><td colspan="7"></td></tr><tr><td class="h">487</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $writer = TAP::Parser::YAMLish::Writer-&gt;new;</td></tr>
<tr><td class="h">488</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;local *FH;</td></tr>
<tr><td class="h">489</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Prove-State-pm--branch.html#L489">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;open FH, &quot;&gt;$store&quot; or croak &quot;Can&#39;t write $store ($!)&quot;;</td></tr>
<tr><td class="h">490</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$writer-&gt;write( $self-&gt;results-&gt;raw, \*FH );</td></tr>
<tr><td class="h">491</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;close FH;</td></tr>
<tr><td class="h">492</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">493</td><td colspan="7"></td></tr><tr><td class="h">494 - 498</td><td colspan="6"></td><td class="s"><pre>=head3 C&lt;load&gt;

Load the state from a file

=cut</pre></td></tr>
<tr><td class="h">499</td><td colspan="7"></td></tr><tr><td class="h">500</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub load {</td></tr>
<tr><td class="h">501</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L501">0</a></div></td><td><div class="c3">1</div></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ( $self, $name ) = @_;</td></tr>
<tr><td class="h">502</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $reader = TAP::Parser::YAMLish::Reader-&gt;new;</td></tr>
<tr><td class="h">503</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;local *FH;</td></tr>
<tr><td class="h">504</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Prove-State-pm--branch.html#L504">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;open FH, &quot;&lt;$name&quot; or croak &quot;Can&#39;t read $name ($!)&quot;;</td></tr>
<tr><td class="h">505</td><td colspan="7"></td></tr><tr><td class="h">506</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# XXX this is temporary</td></tr>
<tr><td class="h">507</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{_} = $self-&gt;result_class-&gt;new(</td></tr>
<tr><td class="h">508</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$reader-&gt;read(</td></tr>
<tr><td class="h">509</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sub {</td></tr>
<tr><td class="h">510</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L510">0</a></div></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $line = &lt;FH&gt;;</td></tr>
<tr><td class="h">511</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Prove-State-pm--branch.html#L511">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defined $line &amp;&amp; chomp $line;</td></tr>
<tr><td class="h">512</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $line;</td></tr>
<tr><td class="h">513</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">514</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</td></tr>
<tr><td class="h">515</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">516</td><td colspan="7"></td></tr><tr><td class="h">517</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# $writer-&gt;write( $self-&gt;{tests} || {}, \*FH );</td></tr>
<tr><td class="h">518</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;close FH;</td></tr>
<tr><td class="h">519</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_regen_seq;</td></tr>
<tr><td class="h">520</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_prune_and_stamp;</td></tr>
<tr><td class="h">521</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;results-&gt;generation( $self-&gt;results-&gt;generation + 1 );</td></tr>
<tr><td class="h">522</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">523</td><td colspan="7"></td></tr><tr><td class="h">524</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _prune_and_stamp {</td></tr>
<tr><td class="h">525</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L525">0</a></div></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">526</td><td colspan="7"></td></tr><tr><td class="h">527</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $results = $self-&gt;results;</td></tr>
<tr><td class="h">528</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @tests&nbsp;&nbsp;&nbsp;= $self-&gt;results-&gt;tests;</td></tr>
<tr><td class="h">529</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;for my $test (@tests) {</td></tr>
<tr><td class="h">530</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $name = $test-&gt;name;</td></tr>
<tr><td class="h">531</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Prove-State-pm--branch.html#L531">0</a></div></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( my @stat = stat $name ) {</td></tr>
<tr><td class="h">532</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$test-&gt;mtime( $stat[9] );</td></tr>
<tr><td class="h">533</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">534</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</td></tr>
<tr><td class="h">535</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$results-&gt;remove($name);</td></tr>
<tr><td class="h">536</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">537</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">538</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">539</td><td colspan="7"></td></tr><tr><td class="h">540</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _regen_seq {</td></tr>
<tr><td class="h">541</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-App-Prove-State-pm--subroutine.html#L541">0</a></div></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">542</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;for my $test ( $self-&gt;results-&gt;tests ) {</td></tr>
<tr><td class="h">543</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{seq} = $test-&gt;sequence + 1</td></tr>
<tr><td class="h">544</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Prove-State-pm--branch.html#L544">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Prove-State-pm--condition.html#L544">0</a></div></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if defined $test-&gt;sequence &amp;&amp; $test-&gt;sequence &gt;= $self-&gt;{seq};</td></tr>
<tr><td class="h">545</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">546</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">547</td><td colspan="7"></td></tr><tr><td class="h">548</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">1;</td></tr>
</table>
</body>
</html>
