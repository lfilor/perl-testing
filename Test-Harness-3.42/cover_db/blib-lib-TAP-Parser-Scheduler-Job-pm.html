<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::Cover Version 1.36
Devel::Cover is copyright 2001-2019, Paul Johnson (paul@pjcj.net)
Devel::Cover is free. It is licensed under the same terms as Perl itself.
The latest version of Devel::Cover should be available from my homepage:
http://www.pjcj.net
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Language" content="en-us"></meta>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <title>File Coverage: blib/lib/TAP/Parser/Scheduler/Job.pm</title>
</head>
<body>
<h1>File Coverage</h1>
<table>
<tr><td class="h" align="right">File:</td><td align="left">blib/lib/TAP/Parser/Scheduler/Job.pm</td></tr>
<tr><td class="h" align="right">Coverage:</td><td align="left" class="c1">86.0%</td></tr>
</table>
<div><br/></div>
<table>
<tr><th>line</th><th>stmt</th><th>bran</th><th>cond</th><th>sub</th><th>pod</th><th>time</th><th>code</th></tr>
<tr><td class="h">1</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">package TAP::Parser::Scheduler::Job;</td></tr>
<tr><td class="h">2</td><td colspan="7"></td></tr><tr><td class="h">3</td><td><div class="c3">16</div><div class="c3">16</div><div class="c3">16</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-TAP-Parser-Scheduler-Job-pm--subroutine.html#L3">16</a></div></td><td></td><td><div>34</div><div>57</div><div>174</div></td><td class="s">use strict;</td></tr>
<tr><td class="h">4</td><td><div class="c3">16</div><div class="c3">16</div><div class="c3">16</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-TAP-Parser-Scheduler-Job-pm--subroutine.html#L4">16</a></div></td><td></td><td><div>22</div><div>8</div><div>174</div></td><td class="s">use warnings;</td></tr>
<tr><td class="h">5</td><td><div class="c3">16</div><div class="c3">16</div><div class="c3">16</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-TAP-Parser-Scheduler-Job-pm--subroutine.html#L5">16</a></div></td><td></td><td><div>21</div><div>16</div><div>1950</div></td><td class="s">use Carp;</td></tr>
<tr><td class="h">6</td><td colspan="7"></td></tr><tr><td class="h">7 - 15</td><td colspan="6"></td><td class="s"><pre>=head1 NAME

TAP::Parser::Scheduler::Job - A single testing job.

=head1 VERSION

Version 3.42

=cut</pre></td></tr>
<tr><td class="h">16</td><td colspan="7"></td></tr><tr><td class="h">17</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">our $VERSION = &#39;3.42&#39;;</td></tr>
<tr><td class="h">18</td><td colspan="7"></td></tr><tr><td class="h">19 - 40</td><td colspan="6"></td><td class="s"><pre>=head1 SYNOPSIS

&nbsp;&nbsp;&nbsp;&nbsp;use TAP::Parser::Scheduler::Job;

=head1 DESCRIPTION

Represents a single test &#39;job&#39;.

=head1 METHODS

=head2 Class Methods

=head3 C&lt;new&gt;

&nbsp;&nbsp;&nbsp;&nbsp;my $job = TAP::Parser::Scheduler::Job-&gt;new(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$filename, $description
&nbsp;&nbsp;&nbsp;&nbsp;);

Given the filename and description of a test as scalars, returns a new
L&lt;TAP::Parser::Scheduler::Job&gt; object.

=cut</pre></td></tr>
<tr><td class="h">41</td><td colspan="7"></td></tr><tr><td class="h">42</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub new {</td></tr>
<tr><td class="h">43</td><td><div class="c3">448</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-TAP-Parser-Scheduler-Job-pm--subroutine.html#L43">448</a></div></td><td><div class="c3">1</div></td><td><div>362</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ( $class, $name, $desc, @ctx ) = @_;</td></tr>
<tr><td class="h">44</td><td><div class="c3">448</div></td><td><div class="c0" title="-/F"><a href="blib-lib-TAP-Parser-Scheduler-Job-pm--branch.html#L44">50</a></div></td><td></td><td></td><td></td><td><div>1105</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return bless {</td></tr>
<tr><td class="h">45</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filename&nbsp;&nbsp;&nbsp;&nbsp;=&gt; $name,</td></tr>
<tr><td class="h">46</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description =&gt; $desc,</td></tr>
<tr><td class="h">47</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ctx ? ( context =&gt; \@ctx ) : (),</td></tr>
<tr><td class="h">48</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}, $class;</td></tr>
<tr><td class="h">49</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">50</td><td colspan="7"></td></tr><tr><td class="h">51 - 60</td><td colspan="6"></td><td class="s"><pre>=head2 Instance Methods

=head3 C&lt;on_finish&gt;

&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;on_finish(\&amp;method).

Register a closure to be called when this job is destroyed. The callback
will be passed the C&lt;TAP::Parser::Scheduler::Job&gt; object as it&#39;s only argument.

=cut</pre></td></tr>
<tr><td class="h">61</td><td colspan="7"></td></tr><tr><td class="h">62</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub on_finish {</td></tr>
<tr><td class="h">63</td><td><div class="c3">448</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-TAP-Parser-Scheduler-Job-pm--subroutine.html#L63">448</a></div></td><td><div class="c3">1</div></td><td><div>520</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ( $self, $cb ) = @_;</td></tr>
<tr><td class="h">64</td><td><div class="c3">448</div></td><td></td><td></td><td></td><td></td><td><div>532</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{on_finish} = $cb;</td></tr>
<tr><td class="h">65</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">66</td><td colspan="7"></td></tr><tr><td class="h">67 - 74</td><td colspan="6"></td><td class="s"><pre>=head3 C&lt;finish&gt;

&nbsp;&nbsp;&nbsp;$self-&gt;finish;

Called when a job is complete to unlock it. If a callback has been registered
with C&lt;on_finish&gt;, it calls it. Otherwise, it does nothing. 

=cut</pre></td></tr>
<tr><td class="h">75</td><td colspan="7"></td></tr><tr><td class="h">76</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub finish {</td></tr>
<tr><td class="h">77</td><td><div class="c3">427</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-TAP-Parser-Scheduler-Job-pm--subroutine.html#L77">427</a></div></td><td><div class="c3">1</div></td><td><div>4425</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">78</td><td><div class="c3">427</div></td><td><div class="c0" title="T/-"><a href="blib-lib-TAP-Parser-Scheduler-Job-pm--branch.html#L78">50</a></div></td><td></td><td></td><td></td><td><div>582</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ( my $cb = $self-&gt;{on_finish} ) {</td></tr>
<tr><td class="h">79</td><td><div class="c3">427</div></td><td></td><td></td><td></td><td></td><td><div>525</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cb-&gt;($self);</td></tr>
<tr><td class="h">80</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">81</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">82</td><td colspan="7"></td></tr><tr><td class="h">83 - 98</td><td colspan="6"></td><td class="s"><pre>=head2 Attributes

&nbsp;&nbsp;$self-&gt;filename;
&nbsp;&nbsp;$self-&gt;description;
&nbsp;&nbsp;$self-&gt;context;

These are all &quot;getters&quot; which return the data set for these attributes during object construction.


=head3 C&lt;filename&gt;

=head3 C&lt;description&gt;

=head3 C&lt;context&gt;

=cut</pre></td></tr>
<tr><td class="h">99</td><td colspan="7"></td></tr><tr><td class="h">100</td><td><div class="c3">4334</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-TAP-Parser-Scheduler-Job-pm--subroutine.html#L100">4334</a></div></td><td><div class="c3">1</div></td><td><div>6355</div></td><td class="s">sub filename&nbsp;&nbsp;&nbsp;&nbsp;{ shift-&gt;{filename} }</td></tr>
<tr><td class="h">101</td><td><div class="c3">640</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-TAP-Parser-Scheduler-Job-pm--subroutine.html#L101">640</a></div></td><td><div class="c3">1</div></td><td><div>2427</div></td><td class="s">sub description { shift-&gt;{description} }</td></tr>
<tr><td class="h">102</td><td><div class="c0">0</div><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-TAP-Parser-Scheduler-Job-pm--branch.html#L102">0</a></div></td><td></td><td><div class="c0"><a href="blib-lib-TAP-Parser-Scheduler-Job-pm--subroutine.html#L102">0</a></div></td><td><div class="c3">1</div></td><td><div>0</div><div>0</div></td><td class="s">sub context&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ @{ shift-&gt;{context} || [] } }</td></tr>
<tr><td class="h">103</td><td colspan="7"></td></tr><tr><td class="h">104 - 108</td><td colspan="6"></td><td class="s"><pre>=head3 C&lt;as_array_ref&gt;

For backwards compatibility in callbacks.

=cut</pre></td></tr>
<tr><td class="h">109</td><td colspan="7"></td></tr><tr><td class="h">110</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub as_array_ref {</td></tr>
<tr><td class="h">111</td><td><div class="c3">319</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-TAP-Parser-Scheduler-Job-pm--subroutine.html#L111">319</a></div></td><td><div class="c3">1</div></td><td><div>279</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">112</td><td><div class="c3">319</div></td><td></td><td><div class="c3"><a href="blib-lib-TAP-Parser-Scheduler-Job-pm--condition.html#L112">100</a></div></td><td></td><td></td><td><div>453</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return [ $self-&gt;filename, $self-&gt;description, $self-&gt;{context} ||= [] ];</td></tr>
<tr><td class="h">113</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">114</td><td colspan="7"></td></tr><tr><td class="h">115 - 123</td><td colspan="6"></td><td class="s"><pre>=head3 C&lt;is_spinner&gt;

&nbsp;&nbsp;$self-&gt;is_spinner;

Returns false indicating that this is a real job rather than a
&#39;spinner&#39;. Spinners are returned when the scheduler still has pending
jobs but can&#39;t (because of locking) return one right now.

=cut</pre></td></tr>
<tr><td class="h">124</td><td colspan="7"></td></tr><tr><td class="h">125</td><td><div class="c3">283</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-TAP-Parser-Scheduler-Job-pm--subroutine.html#L125">283</a></div></td><td><div class="c3">1</div></td><td><div>333</div></td><td class="s">sub is_spinner {0}</td></tr>
<tr><td class="h">126</td><td colspan="7"></td></tr><tr><td class="h">127</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">1;</td></tr>
</table>
</body>
</html>
